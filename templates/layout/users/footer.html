{% load static %}
  <footer class="text-center text-lg-start mt-3 bg-white text-muted container">
    <section>
      <hr class="featurette-divider" style="border: 1px solid #fda90f;">
      <div class="col-md-4 d-flex align-items-center">
        <span class="mb-3 mb-md-0 text-body-secondary">&copy; 2023 AIWIKS, Inc</span>
      </div>
      <ul class="nav col-md-4 justify-content-end list-unstyled d-flex">
        <li class="ms-3"><a class="text-body-secondary" href="#"><svg class="bi" width="24" height="24"><use xlink:href="#twitter"/></svg></a></li>
        <li class="ms-3"><a class="text-body-secondary" href="#"><svg class="bi" width="24" height="24"><use xlink:href="#instagram"/></svg></a></li>
        <li class="ms-3"><a class="text-body-secondary" href="#"><svg class="bi" width="24" height="24"><use xlink:href="#facebook"/></svg></a></li>
      </ul>
    </section>
  </footer>


















    <script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.js" referrerpolicy="no-referrer"></script>
<script>
      var triggerTabList = [].slice.call(document.querySelectorAll('#v-pills-tab button'))
      triggerTabList.forEach(function (triggerEl) {
          var tabTrigger = new bootstrap.Tab(triggerEl)

          triggerEl.addEventListener('click', function (event) {
              event.preventDefault()
              tabTrigger.show()
          })
      })
  </script>
  <script>
      document.getElementById('flexSwitchCheckChecked').addEventListener('change', function() {
          if (this.checked) {
              window.location.href = "{% url 'subscription:subs_page' %}";
          }
      });
  </script>
  <script>
      document.getElementById('change-password-button').addEventListener('click', function() {
          var passwordFields = document.querySelectorAll('.password-fields');
          for (var i = 0; i < passwordFields.length; i++) {
              passwordFields[i].style.display = passwordFields[i].style.display === 'none' ? 'block' : 'none';
          }
      });
  </script>
  <script>
      let cropper = null;

      document.getElementById('change-image-button').addEventListener('click', function() {
          document.getElementById('image-input').click();
      });

      document.getElementById('image-input').addEventListener('change', function() {
          const file = this.files[0];
          if (file) {
              const reader = new FileReader();
              reader.onload = function(event) {
                  document.getElementById('cropper-image').src = event.target.result;
                  cropper = new Cropper(document.getElementById('cropper-image'), {
                      aspectRatio: 1,
                      viewMode: 1,
                  });
                  const modal = new bootstrap.Modal(document.getElementById('crop-modal'));
                  modal.show();
              };
              reader.readAsDataURL(file);
          }
      });

      document.getElementById('apply-crop').addEventListener('click', function() {
          const cropData = cropper.getData();
          const spinner = document.querySelector('.spinner-border');
          document.getElementById('crop-x').value = cropData.x;
          document.getElementById('crop-y').value = cropData.y;
          document.getElementById('crop-width').value = cropData.width;
          document.getElementById('crop-height').value = cropData.height;
          const modal = bootstrap.Modal.getInstance(document.getElementById('crop-modal'));
          modal.hide();
          cropper.destroy();
          cropper = null;

          const form = document.getElementById('update-image-form');
          const formData = new FormData(form);
          const xhr = new XMLHttpRequest();
          xhr.open('POST', form.action);
          xhr.onload = function() {
              if (xhr.status === 200) {
                  alert('Изображение обновлено');
                  location.reload();
              }
              else {
                  alert('Произошла ошибка при обновлении изображения');
              }
          };
          xhr.send(formData);
      });
  </script>
  <script>
        document.addEventListener('DOMContentLoaded', function() {
            var modal = document.getElementById('confirmationModal');
            modal.style.display = 'block';
        });
   </script>
  <script>
        var modal = new bootstrap.Modal(document.getElementById('confirmationModal'));
        modal.show();
  </script>

</body>
</html>